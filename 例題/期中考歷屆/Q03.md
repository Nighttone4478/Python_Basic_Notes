# ğŸ§® çŸ©é™£æ“ä½œï¼ˆé¡Œç›®ç·¨è™Ÿ: Q03ï¼‰
åœ¨ä¸€å€‹ `N Ã— N` çš„æ–¹é™£ä¸­ï¼Œå…ƒç´ ä¾åºç‚º `1 ~ N^2`ï¼ˆç”±ä¸Šåˆ°ä¸‹ã€ç”±å·¦åˆ°å³ï¼‰ã€‚  
çµ¦å®šä¸€å€‹æ“ä½œä»£è™Ÿ `D`ï¼ˆ1~4ï¼‰ï¼Œè«‹**ä¸ä½¿ç”¨ä»»ä½• List ä½œç‚ºå„²å­˜çµæ§‹**ï¼Œ  
ç›´æ¥ä»¥ã€Œåº§æ¨™åæ¨ã€çš„æ–¹å¼ï¼Œè¼¸å‡ºæ“ä½œå¾Œçš„çŸ©é™£å…§å®¹ã€‚  
æ¯å€‹æ•¸å­—ä»¥ `%3d` çš„æ ¼å¼å°å‡ºã€‚

## ğŸ“˜ é¡Œç›®èªªæ˜
æœ‰å››ç¨®çŸ©é™£æ“ä½œï¼ˆå°åŸçŸ©é™£é€²è¡Œï¼‰ï¼š

| D | æ“ä½œåç¨± | èªªæ˜ |
|---|-----------|------|
| 1 | å‘å·¦æ—‹è½‰ 90Â° | é€†æ™‚é‡æ–¹å‘æ—‹è½‰ |
| 2 | å‘å³æ—‹è½‰ 90Â° | é †æ™‚é‡æ–¹å‘æ—‹è½‰ |
| 3 | ä¸Šä¸‹ç¿»è½‰ | å‚ç›´é¡åƒ |
| 4 | å·¦å³ç¿»è½‰ | æ°´å¹³é¡åƒ |

> âš ï¸ é™åˆ¶ï¼š**ä¸èƒ½ä½¿ç”¨ List æˆ–é™£åˆ—ä¾†å„²å­˜çŸ©é™£**ï¼Œ  
> æ‰€ä»¥æˆ‘å€‘åªèƒ½é€éæ•¸å­¸æ–¹å¼ã€Œç®—å‡ºæ¯å€‹è¼¸å‡ºæ ¼å­åŸæœ¬æ˜¯å“ªå€‹ä½ç½®ã€ã€‚

## ğŸ“¥ è¼¸å…¥èªªæ˜
- ç¬¬ 1 è¡Œè¼¸å…¥æ•´æ•¸ `N`ï¼ˆ`1 â‰¤ N â‰¤ 9`ï¼‰  
- ç¬¬ 2 è¡Œè¼¸å…¥æ•´æ•¸ `D`ï¼ˆ`1~4` å…¶ä¸­ä¸€å€‹ï¼‰

## ğŸ“¤ è¼¸å‡ºèªªæ˜
- æ ¹æ“š `D` æŒ‡ä»¤è¼¸å‡ºæ“ä½œå¾Œçš„çŸ©é™£ã€‚  
- æ¯å€‹æ•¸å­—ä»¥ `%3d` çš„æ ¼å¼å°å‡ºã€‚  
- æ¯è¡Œè¼¸å‡º `N` å€‹æ•¸å­—ï¼Œè¡Œå°¾æ›è¡Œã€‚

## ğŸ“š ç¯„ä¾‹æ¸¬è³‡

### âœ… Sample Input 1
```
5
1
```
### âœ… Sample Output 1
```
5 10 15 20 25
4  9 14 19 24
3  8 13 18 23
2  7 12 17 22
1  6 11 16 21
```

### âœ… Sample Input 2
```
4
2
```
### âœ… Sample Output 2
```
13  9  5  1
14 10  6  2
15 11  7  3
16 12  8  4
```

### âœ… Sample Input 3
```
3
3
```
### âœ… Sample Output 3
```
7  8  9
4  5  6
1  2  3
```

### âœ… Sample Input 4
```
3
4
```
### âœ… Sample Output 4
```
3  2  1
6  5  4
9  8  7
```

## ğŸ§© ç¨‹å¼é‚è¼¯

### 1ï¸âƒ£ åŸçŸ©é™£çš„ç·¨è™Ÿè¦å‰‡
åŸçŸ©é™£ç¬¬ `r` åˆ—ã€ç¬¬ `c` è¡Œçš„å€¼ç‚ºï¼š
> `å€¼ = r * N + c + 1`ï¼ˆ`r, c` ç‚º 0-based ç´¢å¼•ï¼‰

### 2ï¸âƒ£ åº§æ¨™åæ¨ â€” å–®æ­¥æ“ä½œèˆ‰ä¾‹
ç”±æ–¼é¡Œç›®ç¦æ­¢ä½¿ç”¨ Listï¼Œæˆ‘å€‘ä¸èƒ½çœŸçš„ã€Œæ—‹è½‰ã€çŸ©é™£ã€‚  
æˆ‘å€‘è¦**å¾çµæœçŸ©é™£çš„æ¯å€‹ä½ç½® `(r_out, c_out)` å‡ºç™¼ï¼Œå»æ¨å›å®ƒåœ¨åŸçŸ©é™£çš„å“ªå€‹ä½ç½® `(r_in, c_in)`ã€‚**

#### ğŸ“ä¾‹ 1ï¼š3Ã—3 å‘å·¦æ—‹è½‰ 90Â°ï¼ˆD=1ï¼‰
åŸçŸ©é™£ï¼š
```
1  2  3
4  5  6
7  8  9
```
å·¦è½‰å¾Œçµæœï¼š
```
3  6  9
2  5  8
1  4  7
```
å‡è¨­è¼¸å‡ºçŸ©é™£çš„ `(r_out, c_out) = (0,1)`ï¼ˆå€¼ç‚º 6ï¼‰ï¼š
- å·¦è½‰åæ¨ï¼š`r_in = c_out = 1`ã€`c_in = N - 1 - r_out = 3 - 1 - 0 = 2`
- åŸå§‹ä½ç½® `(1,2)` â†’ å€¼ = 1Ã—3+2+1 = **6**

#### ğŸ“ä¾‹ 2ï¼š3Ã—3 ä¸Šä¸‹ç¿»è½‰ï¼ˆD=3ï¼‰
åŸçŸ©é™£ï¼š
```
1  2  3
4  5  6
7  8  9
```
ä¸Šä¸‹ç¿»å¾Œï¼š
```
7  8  9
4  5  6
1  2  3
```
è¼¸å‡ºçŸ©é™£ `(r_out, c_out) = (0,0)`ï¼ˆå€¼ç‚º 7ï¼‰ï¼š
- ä¸Šä¸‹ç¿»åæ¨ï¼š`r_in = N-1-r_out = 2`ã€`c_in = c_out = 0`
- åŸå§‹ä½ç½® `(2,0)` â†’ å€¼ = 2Ã—3+0+1 = **7**

### 3ï¸âƒ£ å››ç¨®æ“ä½œçš„åæ¨å…¬å¼ç¸½è¦½

| D | æ“ä½œ | åæ¨åº§æ¨™ï¼ˆç”±è¼¸å‡º â†’ åŸçŸ©é™£ï¼‰ |
|---|------|----------------------------|
| 1 | å‘å·¦è½‰ 90Â° | `r_in = c_out`ï¼Œ`c_in = N - 1 - r_out` |
| 2 | å‘å³è½‰ 90Â° | `r_in = N - 1 - c_out`ï¼Œ`c_in = r_out` |
| 3 | ä¸Šä¸‹ç¿»è½‰ | `r_in = N - 1 - r_out`ï¼Œ`c_in = c_out` |
| 4 | å·¦å³ç¿»è½‰ | `r_in = r_out`ï¼Œ`c_in = N - 1 - c_out` |

### 4ï¸âƒ£ ä¸»ç¨‹å¼æµç¨‹
1. è®€å…¥ `N` èˆ‡ `D`  
2. ä½¿ç”¨ `for i in range(N*N)` é€æ ¼è¼¸å‡º  
3. ä»¥ `r, c = divmod(i, N)` æ±‚å‡ºè¼¸å‡ºåº§æ¨™  
4. æ ¹æ“š `D` åæ¨å‡º `(r_in, c_in)`  
5. ä»£å…¥å…¬å¼ `val = r_in * N + c_in + 1`  
6. ä»¥ `%3d` å°å‡ºçµæœ  

## âœ¨ ç¯„ä¾‹ç¨‹å¼
~~~python
def transfrom(r, c, D, N):
    if D == 1:
        r, c = c, r
        r, c = r, N - c - 1
    elif D == 2:
        r, c = c, r
        r, c = N - r - 1, c
    elif D == 3:
        r, c = N - r - 1, c
    elif D == 4:
        r, c = r, N - c - 1
    return r * N + c + 1

def main():
    N = int(input().strip())
    D = int(input().strip())
    for i in range(N * N):
        r, c = divmod(i, N)
        val = transfrom(r, c, D, N)
        print("%3d" % val, end="")
        if (i + 1) % N == 0:
            print()

if __name__ == "__main__":
    main()
~~~

## ğŸš€ å»¶ä¼¸æ‡‰ç”¨ï¼šå¤šå±¤æ“ä½œï¼ˆè¤‡åˆè½‰æ›ï¼‰

è‹¥æ“ä½œåºåˆ—åŒ…å«å¤šæ­¥ï¼ˆä¾‹å¦‚ `214` æˆ– `LVR`ï¼‰ï¼Œ  
å¿…é ˆ**åå‘ä¾åºåæ¨**ï¼Œå› ç‚ºæˆ‘å€‘æ˜¯ã€Œå¾è¼¸å‡ºå›æ¨åˆ°åŸå§‹åº§æ¨™ã€ã€‚

### ğŸ“˜ å¤šå±¤æ“ä½œåæ¨ç¤ºæ„

**æƒ…å¢ƒ**ï¼š`N = 3`ï¼Œæ“ä½œåºåˆ—ç‚º `D = 2 â†’ 3`ï¼ˆå…ˆ**å³è½‰ 90Â°**ï¼Œå†**ä¸Šä¸‹ç¿»**ï¼‰ã€‚  
æˆ‘å€‘è¦æ‰¾å‡º**è¼¸å‡ºçŸ©é™£**ä¸­ `(r_out, c_out) = (0, 0)` é€™ä¸€æ ¼ï¼Œå°æ‡‰åˆ°**åŸçŸ©é™£**çš„å“ªä¸€æ ¼ã€‚

**æ­¥é©Ÿ 1 â€” æ˜ç¢ºå¯«å‡ºã€Œåæ¨é †åºã€èˆ‡æ¯æ­¥å…¬å¼**  
- åŸå§‹æ“ä½œé †åºï¼šå³è½‰(2) â†’ ä¸Šä¸‹ç¿»(3)  
- åæ¨æ™‚é †åºè¦é¡›å€’ï¼š**å…ˆé‚„åŸä¸Šä¸‹ç¿»(3)ï¼Œå†é‚„åŸå³è½‰(2)**  
- åæ¨å…¬å¼ï¼š  
  - ä¸Šä¸‹ç¿»(3)ï¼š`r' = N-1 - r`ï¼Œ`c' = c`  
  - å³è½‰(2)   ï¼š`r'' = N-1 - c'`ï¼Œ`c'' = r'`

**æ­¥é©Ÿ 2 â€” ä»£å…¥è¼¸å‡ºåº§æ¨™ï¼Œå…ˆã€Œé‚„åŸä¸Šä¸‹ç¿»(3)ã€**  
- å·²çŸ¥ `(r_out, c_out) = (0, 0)`  
- å¥—ç”¨ä¸Šä¸‹ç¿»åæ¨ï¼š  
  - `r1 = N-1 - r_out = 2`  
  - `c1 = c_out = 0`  
- å¾—åˆ°ä¸­ç¹¼åº§æ¨™ï¼š`(r1, c1) = (2, 0)`

**æ­¥é©Ÿ 3 â€” å†ã€Œé‚„åŸå³è½‰(2)ã€**  
- ä»¥ä¸Šä¸€æ­¥çš„ `(r1, c1)` ç•¶ä½œè¼¸å…¥ï¼š  
  - `r_in = N-1 - c1 = 2`  
  - `c_in = r1 = 2`  
- å¾—åˆ°åŸçŸ©é™£åº§æ¨™ï¼š`(r_in, c_in) = (2, 2)`

**æ­¥é©Ÿ 4 â€” ç”±åŸçŸ©é™£åº§æ¨™å¾—åˆ°å¯¦éš›æ•¸å€¼**  
- ä½¿ç”¨ç·¨è™Ÿå…¬å¼ `val = r_in * N + c_in + 1`ï¼š  
  - `val = 2 * 3 + 2 + 1 = 9`  
- æ‰€ä»¥è¼¸å‡ºçŸ©é™£çš„ `(0,0)` å…¶å¯¦ä¾†è‡ªåŸçŸ©é™£çš„æ•¸å€¼ **9**ã€‚

**æ­¥é©Ÿ 5 â€” äº¤å‰é©—è­‰**  
- å…ˆå°åŸçŸ©é™£å³è½‰ï¼Œå†ä¸Šä¸‹ç¿»ï¼Œè§€å¯Ÿ `9` çš„ä½ç½®ç¢ºå¯¦æœƒä¾†åˆ° `(0,0)`ã€‚  
- é€™å€‹é©—è­‰æ­¥é©Ÿèƒ½å¹«åŠ©ä½ åœ¨è€ƒè©¦/ä¸Šæ©Ÿæ™‚å¿«é€Ÿæª¢æŸ¥åæ¨™åæ¨æ˜¯å¦æ­£ç¢ºã€‚

### âœ¨ å¤šå±¤æ“ä½œå®Œæ•´ç¨‹å¼
~~~python
def step_inverse(r, c, cmd, N):
    if cmd in ("1", "L"):
        r, c = c, r
        r, c = r, N - c - 1
    elif cmd in ("2", "R"):
        r, c = c, r
        r, c = N - r - 1, c
    elif cmd in ("3", "V"):
        r, c = N - r - 1, c
    elif cmd in ("4", "H"):
        r, c = r, N - c - 1
    return r, c

def transfrom_multi(r, c, seq, N):
    for cmd in reversed(seq):
        r, c = step_inverse(r, c, cmd, N)
    return r * N + c + 1

def main():
    N = int(input().strip())
    seq = input().strip()
    for i in range(N * N):
        r, c = divmod(i, N)
        val = transfrom_multi(r, c, seq, N)
        print("%3d" % val, end="")
        if (i + 1) % N == 0:
            print()

if __name__ == "__main__":
    main()
~~~

### ğŸ§  é‡é»æ•´ç†
| ä¸»é¡Œ | èªªæ˜ |
|------|------|
| å–®æ­¥æ“ä½œ | ç›´æ¥ç”¨å°æ‡‰çš„åæ¨å…¬å¼ |
| å¤šå±¤æ“ä½œ | å°‡æ“ä½œåºåˆ—åå‘é€æ­¥åæ¨ |
| ä¸å¯ä½¿ç”¨ | Listã€æš«å­˜çŸ©é™£ã€é™£åˆ—æ¬ç§» |
| å®Œæˆæ¢ä»¶ | åªéœ€åº§æ¨™è¨ˆç®—å³å¯è¼¸å‡ºæ‰€æœ‰çµæœ |
